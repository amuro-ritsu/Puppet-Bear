<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>üêª Puppet Bear v1.16.0</title>
    
    <!-- PWA „É°„Çø„Çø„Ç∞ -->
    <meta name="description" content="Puppet Bear - „Éë„Éö„ÉÉ„Éà„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Á∑®ÈõÜ„ÉÑ„Éº„É´">
    <meta name="theme-color" content="#3d2817">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Puppet Bear">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-TileColor" content="#3d2817">
    <meta name="msapplication-tap-highlight" content="no">
    
    <!-- PWA „Éû„Éã„Éï„Çß„Çπ„Éà -->
    <link rel="manifest" href="manifest.json">
    
    <!-- „Ç¢„Ç§„Ç≥„É≥ -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
    
    <!-- „Çπ„Çø„Ç§„É´„Ç∑„Éº„Éà -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- JSZipÔºà„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰øùÂ≠òÁî®Ôºâ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    
    <!-- iOS Safari „Çπ„Éó„É©„ÉÉ„Ç∑„É•„Çπ„ÇØ„É™„Éº„É≥ -->
    <meta name="apple-mobile-web-app-capable" content="yes">
</head>
<body>
    <div class="app-container">
        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <header class="header">
            <img src="logo.png" alt="Puppet Bear" class="header-logo">
            <div class="header-buttons">
                <button id="save-project-btn" class="btn-project" onclick="saveProject()">
                    üíæ ‰øùÂ≠ò
                </button>
                <button id="load-project-btn" class="btn-project" onclick="loadProjectDialog()">
                    üìÇ Ë™≠Ëæº
                </button>
                <button id="export-btn" class="btn-export" onclick="showExportDialog()">
                    üì§ Êõ∏„ÅçÂá∫„Åó
                </button>
            </div>
        </header>
        
        <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
        <div class="main-content">
            <!-- „É¨„Ç§„É§„Éº„É™„Çπ„Éà -->
            <aside class="sidebar sidebar-left">
                <div id="layer-list" class="layer-list"></div>
            </aside>
            
            <!-- „Ç≠„É£„É≥„Éê„Çπ„Å®„Çø„Ç§„É†„É©„Ç§„É≥ -->
            <div class="center-panel">
                <!-- „Ç≠„É£„É≥„Éê„Çπ‰∏äÈÉ®„ÉÑ„Éº„É´„Éê„Éº -->
                <div class="canvas-toolbar" id="canvas-toolbar">
                    <div class="toolbar-group">
                        <button id="header-tool-rotation" onclick="toggleTool('rotation')" class="toolbar-btn" title="ÂõûËª¢„Éè„É≥„Éâ„É´">üîÅ ÂõûËª¢</button>
                        <button id="header-tool-position" onclick="toggleTool('position')" class="toolbar-btn" title="„Éù„Ç∏„Ç∑„Éß„É≥ÁßªÂãï">üëá ÁßªÂãï</button>
                    </div>
                    <div class="toolbar-separator"></div>
                    <div class="toolbar-group">
                        <button id="header-anchor-pick" onclick="startAnchorPointPick()" class="toolbar-btn" title="„Ç¢„É≥„Ç´„Éº„Çí„ÇØ„É™„ÉÉ„ÇØ„ÅßË®≠ÂÆö">üéØ „Ç¢„É≥„Ç´„ÉºË®≠ÂÆö</button>
                        <button id="header-anchor-reset" onclick="resetAnchorPoint()" class="toolbar-btn toolbar-btn-small" title="„Ç¢„É≥„Ç´„Éº„Çí‰∏≠Â§Æ„Å´Êàª„Åô">‚Ü©Ô∏è</button>
                    </div>
                    <div class="toolbar-group toolbar-sliders" id="header-anchor-sliders">
                        <label class="toolbar-slider-label">X:<span id="headerAnchorX">50</span>%
                            <input type="range" class="toolbar-slider" id="header-anchor-x-slider" value="50" min="0" max="100" step="1"
                                oninput="document.getElementById('headerAnchorX').textContent = this.value; setAnchorPointLive('x', parseFloat(this.value) / 100)">
                        </label>
                        <label class="toolbar-slider-label">Y:<span id="headerAnchorY">50</span>%
                            <input type="range" class="toolbar-slider" id="header-anchor-y-slider" value="50" min="0" max="100" step="1"
                                oninput="document.getElementById('headerAnchorY').textContent = this.value; setAnchorPointLive('y', parseFloat(this.value) / 100)">
                        </label>
                        <div style="font-size: 10px; color: #ff9800; margin-top: 4px; padding: 4px 8px; background: rgba(255, 152, 0, 0.1); border-radius: 4px; text-align: center; white-space: nowrap;">
                            ‚ö†Ô∏è „Éà„É©„É≥„Çπ„Éï„Ç©„Éº„É†Ââç„Å´Ë®≠ÂÆö
                        </div>
                    </div>
                    <div class="toolbar-separator"></div>
                    <label class="toolbar-checkbox">
                        <input type="checkbox" id="show-pins-checkbox" checked>
                        <span>üìç „Éî„É≥Ë°®Á§∫</span>
                    </label>
                    <div class="toolbar-separator"></div>
                    <!-- „Ç≠„É£„É≥„Éê„Çπ„Ç∫„Éº„É†„Ç≥„É≥„Éà„É≠„Éº„É´ -->
                    <div class="toolbar-group canvas-zoom-control">
                        <button onclick="zoomCanvas(-0.1)" class="toolbar-btn toolbar-btn-small" title="Á∏ÆÂ∞è">‚ûñ</button>
                        <span id="canvas-zoom-value" class="canvas-zoom-value">100%</span>
                        <button onclick="zoomCanvas(0.1)" class="toolbar-btn toolbar-btn-small" title="Êã°Â§ß">‚ûï</button>
                        <button onclick="resetCanvasZoom()" class="toolbar-btn toolbar-btn-small" title="„É™„Çª„ÉÉ„Éà">‚Ü∫</button>
                        <button onclick="fitCanvasToView()" class="toolbar-btn toolbar-btn-small" title="ÁîªÈù¢„Å´„Éï„Ç£„ÉÉ„Éà">‚¨ú</button>
                    </div>
                </div>
                
                <!-- „Ç≠„É£„É≥„Éê„Çπ -->
                <div class="canvas-area">
                    <div id="canvasContainer" class="canvas-container">
                        <canvas id="canvas"></canvas>
                    </div>
                </div>
                
                <!-- „Çø„Ç§„É†„É©„Ç§„É≥ -->
                <div class="timeline-container">
                    <div class="timeline-header">
                        <span class="timeline-title">üé¨ „Çø„Ç§„É†„É©„Ç§„É≥</span>
                        
                        <!-- ÂÜçÁîü„Ç≥„É≥„Éà„É≠„Éº„É´ -->
                        <div class="playback-controls">
                            <button id="play-btn" class="playback-btn kuma-btn" title="ÂÜçÁîü/‰∏ÄÊôÇÂÅúÊ≠¢">
                                <img src="play.png" alt="ÂÜçÁîü" class="kuma-icon" id="play-icon">
                            </button>
                            <button id="stop-btn" class="playback-btn kuma-btn" title="ÂÅúÊ≠¢">
                                <img src="stop.png" alt="ÂÅúÊ≠¢" class="kuma-icon">
                            </button>
                            <label class="loop-checkbox">
                                <input type="checkbox" id="loop-playback-checkbox" onchange="setLoopPlayback(this.checked)">
                                <span>üîÅ</span>
                            </label>
                            <span id="current-frame-display" class="current-frame">00ÂàÜ00Áßí (0f)</span>
                            <div class="fps-selector">
                                <button id="fps-24" class="fps-btn active">24</button>
                                <button id="fps-30" class="fps-btn">30</button>
                            </div>
                        </div>
                        
                        <!-- „Ç∫„Éº„É†„Ç≥„É≥„Éà„É≠„Éº„É´ -->
                        <div class="timeline-zoom-control">
                            <span class="zoom-label">üîç</span>
                            <button class="zoom-btn" onclick="zoomTimeline(-1)" title="Á∏ÆÂ∞è">‚àí</button>
                            <input type="range" id="timeline-zoom-slider" class="zoom-slider" 
                                min="5" max="60" value="20" step="1"
                                oninput="setTimelineZoom(parseInt(this.value))"
                                title="„Çø„Ç§„É†„É©„Ç§„É≥„Ç∫„Éº„É†">
                            <button class="zoom-btn" onclick="zoomTimeline(1)" title="Êã°Â§ß">+</button>
                            <span id="zoom-value" class="zoom-value">100%</span>
                            <button class="zoom-btn zoom-reset" onclick="resetTimelineZoom()" title="„É™„Çª„ÉÉ„Éà">‚Ü∫</button>
                        </div>
                        
                        <!-- Undo/Redo „Éú„Çø„É≥ -->
                        <div class="undo-redo-buttons">
                            <button id="undo-btn" class="icon-btn kuma-btn" onclick="undo()" title="ÂÖÉ„Å´Êàª„Åô (Ctrl+Z)" disabled>
                                <img src="undo.png" alt="ÂÖÉ„Å´Êàª„Åô" class="kuma-icon-small">
                            </button>
                            <button id="redo-btn" class="icon-btn kuma-btn" onclick="redo()" title="„ÇÑ„ÇäÁõ¥„Åó (Ctrl+Y)" disabled>
                                <img src="redo.png" alt="„ÇÑ„ÇäÁõ¥„Åó" class="kuma-icon-small">
                            </button>
                        </div>
                    </div>
                    <div class="timeline-body">
                        <div class="timeline-left">
                            <div id="timeline-layers" class="timeline-layers"></div>
                        </div>
                        <div class="timeline-right">
                            <div id="timeline" class="timeline">
                                <div id="timeline-content" class="timeline-content"></div>
                                <div id="playhead" class="playhead"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- „Éó„É≠„Éë„ÉÜ„Ç£„Éë„Éç„É´ -->
            <aside class="sidebar sidebar-right">
                <h2>‚öôÔ∏è „Éó„É≠„Éë„ÉÜ„Ç£</h2>
                <div id="properties-panel" class="properties-panel">
                    <p>„É¨„Ç§„É§„Éº„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
                </div>
            </aside>
        </div>
    </div>
    
    <!-- „É¢„Ç∏„É•„Éº„É´Ë™≠„ÅøËæº„ÅøÔºàÈ†ÜÁï™ÈáçË¶ÅÔºâ -->
    <script src="app-core.js"></script>
    <script src="app-history.js"></script>
    <script src="app-windsway.js"></script>
    <script src="app-wiggle.js"></script>
    <script src="app-bounce.js"></script>
    <script src="app-walking.js"></script>
    <script src="app-puppet.js"></script>
    <script src="app-audio.js"></script>
    <script src="app-blink.js"></script>
    <script src="app-timeline.js"></script>
    <script src="app-animation.js"></script>
    <script src="app-layers.js"></script>
    <script src="app-tools.js"></script>
    <script src="app-clipping.js"></script>
    <script src="app-properties.js"></script>
    <script src="app-export.js"></script>
    <script src="app-project.js"></script>
    <script src="app-touch.js"></script>
    <script src="app.js"></script>
</body>
</html>
